{
  "kind": "build_request",
  "title": "Restore 'New Case' button and functionality from version 77",
  "projectName": "SurgiPaw",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Restore the 'New Case' button in CasesListView.tsx as it existed in version 77, including the button's visual appearance, placement, and click handler that opens the CaseFormDialog.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Bring back the \"New Case\" functionality and button from version 77"
        ]
      },
      "acceptanceCriteria": [
        "A 'New Case' button is visible in the cases list view",
        "Clicking the button opens the CaseFormDialog modal",
        "The button is styled and positioned consistently with the rest of the UI"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Restore the full 'New Case' form functionality in CaseFormDialog.tsx as it existed in version 77, including form fields (MRN, dates, patient info, notes), form validation, speech-to-text quick-fill, AI-assisted structured text parsing, previous-case lookup, checklist task selection, and case submission via the create case mutation.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Bring back the \"New Case\" functionality and button from version 77"
        ]
      },
      "acceptanceCriteria": [
        "CaseFormDialog opens when triggered from the 'New Case' button",
        "All form fields (MRN, dates, patient info, species, sex, notes) are present and functional",
        "Form validation prevents submission of incomplete or invalid data",
        "Speech-to-text quick-fill feature is present and functional",
        "AI-assisted structured text parsing is available",
        "Checklist task selection is available during case creation",
        "Submitting the form creates a new surgery case via the backend mutation",
        "After successful creation the dialog closes and the new case appears in the list"
      ]
    }
  ],
  "constraints": [
    "Do not modify any immutable frontend paths (useInternetIdentity.ts, useActor.ts, main.tsx, components/ui)",
    "Do not alter backend data models or CRUD logic â€” only frontend restoration is needed",
    "Preserve all existing case display and filter logic restored in version 82"
  ],
  "nonGoals": [
    "Adding new fields or features to the New Case form beyond what existed in version 77",
    "Modifying backend actor or data schema",
    "Changing the case list display or filter behavior"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}