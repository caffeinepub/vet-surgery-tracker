{
  "kind": "build_request",
  "title": "Fix cases not loading on Dashboard and Cases pages",
  "projectName": "SurgiPaw",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Fix the data-fetching logic in `frontend/src/hooks/useQueries.ts` so that surgery cases are correctly fetched and returned for both the DashboardView and CasesListView components. Inspect the current implementation and identify why cases are not loading — likely a regression in query keys, actor calls, or result transformation introduced after Version 93 — and restore the correct fetching behavior.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Cases not loading on either Dashboard or Cases page"
        ]
      },
      "acceptanceCriteria": [
        "The Dashboard page renders surgery case cards when cases exist in the backend.",
        "The Cases list page renders surgery case cards when cases exist in the backend.",
        "The `useCases` (or equivalent) query in useQueries.ts successfully returns an array of SurgeryCase objects.",
        "No console errors related to case fetching appear in the browser.",
        "Both pages show an appropriate empty state (not a blank or broken UI) when there are no cases."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Verify that `DashboardView.tsx` and `CasesListView.tsx` correctly consume the cases query result from `useQueries.ts` — ensuring they handle loading, error, and success states properly — and fix any component-level issues that may prevent cases from rendering even when the query returns data.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Cases not loading on either Dashboard or Cases page"
        ]
      },
      "acceptanceCriteria": [
        "DashboardView displays a loading indicator while cases are being fetched.",
        "CasesListView displays a loading indicator while cases are being fetched.",
        "DashboardView renders CaseCard components for each returned case.",
        "CasesListView renders CaseCard components for each returned case.",
        "Both views display a user-friendly error message if the fetch fails."
      ]
    }
  ],
  "constraints": [
    "Do not modify files under frontend/src/hooks/useInternetIdentity.ts, frontend/src/hooks/useActor.ts, frontend/src/main.tsx, or frontend/src/components/ui.",
    "Do not change the backend Motoko actor or data schema.",
    "Fix must be scoped to data-fetching and rendering logic only — do not alter unrelated UI or features."
  ],
  "nonGoals": [
    "Adding new case fields or backend endpoints.",
    "Changing the visual design or layout of Dashboard or Cases pages.",
    "Modifying authentication or Internet Identity logic."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}