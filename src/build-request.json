{
  "kind": "build_request",
  "title": "Add PDF Export Feature for Case Reports",
  "projectName": "SurgiPaw",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-4",
      "text": "Add a PDF export button to the dashboard view that generates a downloadable PDF report of all cases",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-final"
        ],
        "quotes": [
          "Download button to generate a PDF report"
        ]
      },
      "acceptanceCriteria": [
        "Export button is visible and accessible on the dashboard view",
        "Clicking the button triggers PDF generation and download",
        "PDF filename includes timestamp for organization"
      ]
    },
    {
      "id": "REQ-5",
      "text": "Format the PDF report as a table or card layout displaying all case fields including MRN, owner name, pet name, species, breed, sex, arrival date, spayed/neutered status, chief complaint, and notes",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-final"
        ],
        "quotes": [
          "Table/Case card format with all case fields (MRN, name, outstanding tasks, etc.)"
        ]
      },
      "acceptanceCriteria": [
        "All case data fields from SurgeryCase type are included in the PDF",
        "Layout is readable and well-organized in table or card format",
        "Case information is clearly labeled and easy to read"
      ]
    },
    {
      "id": "REQ-6",
      "text": "Include all remaining incomplete tasks for each case in the PDF report, showing task names and their completion status",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-final"
        ],
        "quotes": [
          "Shows all cases with their remaining tasks"
        ]
      },
      "acceptanceCriteria": [
        "Each case displays its list of incomplete tasks",
        "Task names match the checklist item labels from the existing system",
        "Only tasks that are selected but not completed are shown as remaining tasks",
        "Cases with no remaining tasks clearly indicate completion status"
      ]
    }
  ],
  "constraints": [
    "Do not modify the existing dashboard UI, case management features, or data structures",
    "Preserve all existing checklist functionality and task tracking logic",
    "Use the existing case filtering and sorting logic to determine which cases to include in the PDF"
  ],
  "nonGoals": [
    "Changing the authentication system from Internet Identity to username/password",
    "Modifying the backend data schema or API endpoints",
    "Adding new case fields or task types",
    "Implementing server-side PDF generation"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}