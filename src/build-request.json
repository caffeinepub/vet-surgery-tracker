{
  "kind": "build_request",
  "title": "Enhance Quick Fill with placeholder guide and automatic field extraction from voice",
  "projectName": "SurgiPaw",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Add placeholder text inside the Quick Fill text box displaying the following field names as a guide: Medical Record number, Arrival Date, Pet Name, Owner Last Name, Species, Breed, Sex, Date of Birth, Presenting Complaint",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1",
          "msg-2"
        ],
        "quotes": [
          "In the Quick Fill from Text box include examples of these field names to act as a guide for the voice dictation",
          "Placeholder text inside the text box"
        ]
      },
      "acceptanceCriteria": [
        "The Quick Fill text box shows placeholder text listing all nine field names when empty",
        "Placeholder text disappears when user begins typing or voice recording populates the field",
        "Placeholder text is visually distinct (e.g., lighter gray) from actual input text"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Implement automatic parsing of voice recording audio to extract structured veterinary case fields (Medical Record number, Arrival Date, Pet Name, Owner Last Name, Species, Breed, Sex, Date of Birth, Presenting Complaint) from the transcribed text and populate the corresponding form fields in CaseFormDialog",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-1",
          "msg-2"
        ],
        "quotes": [
          "Case information to be extracted from voice recording: Medical Record number, Arrival Date, Pet Name, Owner Last Name, Species, Breed, Sex, Date of Birth, Presenting Complaint",
          "System should automatically parse the audio"
        ]
      },
      "acceptanceCriteria": [
        "After voice recording completes, the system automatically parses the transcribed text to identify the nine specified fields",
        "Successfully extracted field values are populated into their corresponding form fields (MRN, arrival date, pet name, owner last name, species, breed, sex, date of birth, presenting complaint)",
        "Parsing handles variations in how users dictate field names (e.g., 'MRN', 'Medical Record Number', 'Record Number')",
        "Any fields that cannot be extracted remain empty and can be manually filled",
        "The Quick Fill text box retains the full transcribed text for user reference"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Enhance the existing parseStructuredText function to recognize and extract the nine veterinary case fields (Medical Record number, Arrival Date, Pet Name, Owner Last Name, Species, Breed, Sex, Date of Birth, Presenting Complaint) with improved pattern matching for voice-dictated text",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1",
          "msg-2"
        ],
        "quotes": [
          "Enhance the existing feature"
        ]
      },
      "acceptanceCriteria": [
        "The parseStructuredText function successfully extracts all nine fields from voice-transcribed text",
        "Pattern matching handles common voice dictation variations and synonyms for each field name",
        "Existing Quick Fill functionality continues to work with manually typed text",
        "Field extraction works with both structured (label:value) and natural speech patterns"
      ]
    }
  ],
  "constraints": [
    "Use the existing Web Speech API implementation from useSpeechRecognition hook",
    "Enhance the existing parseStructuredText function in frontend/src/features/cases/parsing/parseStructuredText.ts",
    "Maintain compatibility with the existing CaseFormDialog component structure",
    "Do not modify the backend schema or main.mo actor"
  ],
  "nonGoals": [
    "Adding new fields beyond the nine specified veterinary case fields",
    "Implementing AI-based natural language processing beyond pattern matching",
    "Supporting multiple languages for voice dictation",
    "Recording or storing the actual audio files"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}